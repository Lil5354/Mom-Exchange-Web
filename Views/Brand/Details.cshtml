@model B_M.Models.ViewModels.BrandDetailViewModel

@{
    ViewBag.Title = Model.BrandInfo.Name;
}

<section class="brand-detail-header" data-aos="fade-up">
    <div class="brand-header-logo">
        <img src="@Url.Content(Model.BrandInfo.LogoUrl)" alt="Logo @Model.BrandInfo.Name">
    </div>
    <h1>@Model.BrandInfo.Name</h1>
    <p>@Model.BrandInfo.Description</p>
</section>

<div class="brand-page-layout page-container">
    <aside class="filter-sidebar" data-aos="fade-right" data-aos-delay="200">
        <h4><i class="fa-solid fa-filter"></i> Lọc sản phẩm</h4>

        <div class="filter-widget">
            <h5>Danh mục</h5>
            <ul class="filter-list">
                <li><a href="#">Tã dán</a></li>
                <li><a href="#">Tã quần</a></li>
                <li><a href="#">Sữa bột</a></li>
            </ul>
        </div>

        <div class="filter-widget">
            <h5>Khoảng giá</h5>
            <div class="price-filter">
                <input type="number" placeholder="Từ">
                <span>-</span>
                <input type="number" placeholder="Đến">
            </div>
            <button class="cta-button secondary">Áp dụng</button>
        </div>

        <div class="filter-widget">
            <h5>Size</h5>
            <ul class="filter-list">
                <li><a href="#">Size M</a></li>
                <li><a href="#">Size L</a></li>
                <li><a href="#">Size XL</a></li>
            </ul>
        </div>
    </aside>

    <main class="product-list-content" data-aos="fade-left" data-aos-delay="300">
        <div class="product-list-toolbar">
            <span class="product-count">Hiển thị <strong>@Model.Products.Count() sản phẩm</strong></span>
            <select class="sort-dropdown">
                <option>Sắp xếp theo: Mới nhất</option>
                <option>Sắp xếp theo: Giá thấp đến cao</option>
                <option>Sắp xếp theo: Giá cao đến thấp</option>
            </select>
        </div>

        <div class="product-grid">
            @if (Model.Products != null && Model.Products.Any())
            {
                foreach (var product in Model.Products)
                {
                    <a href="@Url.Action("Details", "Product", new { id = product.Id })" class="product-card-link">
                        <div class="product-card">
                            <div class="card-image-container">
                                <img src="@(product.ImageUrls?.FirstOrDefault() ?? "/images/no-image.jpg")" alt="@product.Name">
                                <div class="card-overlay">
                                    <span class="overlay-text">Xem chi tiết</span>
                                </div>
                            </div>
                        <div class="card-text-content">
                            <h3>@product.Name</h3>
                            <p class="brand">@(product.Brand?.Name ?? "Unknown Brand")</p>
                            <p class="price">@product.Price</p>
                        </div>
                    </div>
                </a>
                }
            }
            else
            {
                <div class="no-products-message">
                    <h3>Chưa có sản phẩm nào</h3>
                    <p>Hiện tại chưa có sản phẩm nào thuộc thương hiệu này.</p>
                </div>
            }
        </div>
    </main>
</div>