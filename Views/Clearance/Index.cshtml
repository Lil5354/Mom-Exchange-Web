@model List<B_M.Models.ViewModels.CategoryViewModel>

@{
    ViewBag.Title = "Thanh Lý Đồ Dùng Mẹ & Bé";
}

<section class="animated-hero clearance-hero">
    <div class="hero-content" data-aos="fade-up">
        <h1>Thanh Lý Đồ Dùng</h1>
        <p>Sắm đồ tốt giá hời từ cộng đồng các mẹ bỉm sữa đáng tin cậy.</p>
    </div>
</section>

<div class="page-container">
    @if (Model != null && Model.Any())
    {
        foreach (var category in Model)
        {
            <section class="category-carousel" data-aos="fade-up">
                <div class="carousel-header">
                    <h2>@category.CategoryName</h2>
                    <a href="#">Xem tất cả <i class="fas fa-arrow-right"></i></a>
                </div>
                <div class="horizontal-scroll-container">
                    @if (category.Products != null && category.Products.Any())
                    {
                        foreach (var product in category.Products)
                        {
                            <div class="carousel-item">
                                <a href="@Url.Action("Details", "Product", new { id = product.Id })" class="product-card-link">
                                    <div class="product-card">
                                        <div class="card-image-container">
                                            <img src="@product.ImageUrls.FirstOrDefault()" alt="@product.Name">
                                            <div class="card-like-button"><i class="far fa-heart"></i></div>
                                        </div>
                                        <div class="card-text-content">
                                            <h3>@product.Name</h3>
                                            <p class="price">@product.Price</p>
                                            <p class="location"><i class="fas fa-map-marker-alt"></i> @product.Location</p>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        }
                    }
                    else
                    {
                        <p style="padding-left: 20px; color: var(--secondary-text-color);"><em>Không có sản phẩm nào trong danh mục này.</em></p>
                    }
                </div>
            </section>
        }
    }
    else
    {
        <p>Không có danh mục sản phẩm nào để hiển thị.</p>
    }
</div>